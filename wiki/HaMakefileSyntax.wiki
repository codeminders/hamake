#summary hamakefile syntax
#labels Phase-Design

= Introduction =

This page describe syntax of XML files understood by 'hamake'. 

= Informal description ==

The file is an XML document. 

== project ==

The root element is 'project'

Attributes:
  * 'default' - name of default target (optional)
  * 'name' - project name (optional)
Allowed sub-elements: 'config',  'map', 'reduce'

== project/config ==

This element describes general configuration parameters.
Allowed sub-elements: 'dfs' and  'property'

=== project/config/dfs ===

This elements contains DFS-related information. Currently only
one sub-element is understood: thriftAPI

Element: 'thriftAPI'
Attributes:
  * 'host' - host name of HadooopThriftServer
  * 'port' - port number of HadooopThriftServer

Example:

{{{
<dfs>
 <thriftAPI host="example.com" port="9009" />
</dfs>
}}}

=== project/config/property ===

For user convenience user can define one or more "properties". Properties
are named values, which could be used in sections of hamakefile (outside 'config').
They work like macros. Example of property definition:

{{{
<property name="dfsroot" value="/dfs" />
<property name="numreducers" value="14" />
}}}

Now they could be used in any string attribute, using [http://docs.python.org/library/stdtypes.html#string-formatting Python string formatting syntax]. For example:

{{{
<path location="%(dfsroot)s/data" />
}}}

= XML Schema ==

TBD

= Examples =

See 'sample_hamakefile.xml' included in distribution for an example. 